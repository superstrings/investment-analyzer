# 代码审查命令

对指定代码进行审查。

## 参数
$ARGUMENTS - 文件或目录路径

## 执行步骤

### 1. 确定审查范围

根据 $ARGUMENTS 参数:
- 文件路径: 审查单个文件
- 目录路径: 审查目录下所有 Python 文件
- 空参数: 审查最近修改的文件

### 2. 调用 Code Reviewer Agent

使用 Task 工具调用 code-reviewer agent:

```
Task tool with subagent_type="code-reviewer"
prompt: "请审查以下代码: $ARGUMENTS

审查重点:
1. 代码质量 (PEP 8, 类型注解, 文档)
2. 架构设计 (职责分离, 模块组织)
3. 错误处理 (异常处理, 日志)
4. 安全性 (输入验证, SQL 注入)
5. 性能 (数据库查询, 内存使用)
6. 测试覆盖
"
```

### 3. 输出审查报告

## 审查检查项

### 代码质量
- [ ] PEP 8 格式规范
- [ ] 类型注解完整
- [ ] 文档字符串清晰
- [ ] 命名有意义

### 架构设计
- [ ] 单一职责原则
- [ ] 模块耦合度低
- [ ] 接口设计合理

### 错误处理
- [ ] 异常处理恰当
- [ ] 错误信息清晰
- [ ] 日志记录完整

### 安全性
- [ ] 输入已验证
- [ ] SQL 参数化查询
- [ ] 敏感数据处理

## 输出格式

```
## 代码审查报告

### 审查范围: [path]

### 严重问题
- [ ] Issue 1 (文件:行号)

### 一般问题
- [ ] Issue 2 (文件:行号)

### 改进建议
- Suggestion 1
- Suggestion 2

### 优点
- Good practice 1
- Good practice 2

### 总结
[整体评价和建议]
```
